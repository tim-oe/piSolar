# Renogy Rover Elite RS485 Connection Guide

> **✅ VERIFIED PINOUT - Rover Elite 20A**
> 
> Verified by disassembling BT-2 Bluetooth module and tracing connections.
> Tested and confirmed working: 2026-02-07
> 
> **⚠️ WARNING:** This pinout differs from community documentation!
> Other Rover models may use different pins.

---

![test bed](img/BT-2.jpg?raw=true)

if you have the BT-2 module you can verify the pinouts by looking at the rj45 cable colors and open the head unit to see the A B GND connectors

---

For configuration details, see [CONFIGURATION.md](CONFIGURATION.md).  
For running as a service, see [SYSTEMD.md](SYSTEMD.md).

**RJ45 Connector (8P8C):**
```
Pin 7: RS485 A+ (Data+)
Pin 6: RS485 B- (Data-)
Pin 5: Ground (GND)
```

**Pin Identification:**
- Look at RJ45 connector from the front (where cable enters)
- Locking clip facing DOWN
- Pins numbered LEFT to RIGHT: 1, 2, 3, 4, 5, 6, 7, 8

```
    ┌─────────────────────────┐
    │  1  2  3  4  5  6  7  8  │ ← Pin numbers
    │  ●  ●  ●  ●  ●  ●  ●  ●  │ ← Contacts
    └─────────────────────────┘
              ▼ Clip (DOWN)
```

**⚠️ Verify Pin 1 Location:**
If unsure which is pin 1, use a multimeter to verify. Don't trust wire colors - some RJ45 cables/connectors use non-standard pinouts. When in doubt, trace with continuity test.

---

## Wiring

### Using RJ45 Breakout + USB-RS485 Adapter

**Connection:**
```
RJ45 Breakout → RS485 Adapter
Terminal 7    → A+ (or 485+, D+, TX_A)
Terminal 6    → B- (or 485-, D-, RX_B)
Terminal 5    → GND
```

### Waveshare USB TO RS232/485 Adapter

**Settings:**
- Mode switch: **RS485** (not RS232)
- Termination: **OFF** (for cables < 10m)

**Resources:**
- [Waveshare Manual](https://www.waveshare.com/wiki/USB_TO_RS232/485)

---

## Communication Parameters

```
Baud Rate:    9600
Data Bits:    8
Stop Bits:    1
Parity:       None
Protocol:     Modbus RTU
Slave Addr:   1
```

---

## Testing

### 1. Quick Test
```bash
poetry run python tests/rs485/test_rs485.py
```

**Expected output:**
```
✓ Register 0x0100 (Battery SOC): 85.00 %
✓ Register 0x0101 (Battery Voltage): 13.20 V
✓ Register 0x0107 (Solar Panel Voltage): 18.50 V
```

### 2. Verify Adapters (Optional)

Test your RS485 adapters before connecting to Rover:

```bash
# Wire two adapters together: A+→A+, B-→B-, GND→GND
poetry run python tests/rs485/test_rs485_adapter_loopback.py
```

If this passes but Rover fails, issue is pinout/wiring (not adapters).

---

## Troubleshooting

### No Communication

1. **Verify pinout** - Elite uses pins 7, 6, 5 (NOT 2, 3, 4!)
2. **Check adapter mode** - Must be RS485, not RS232
3. **Disable termination** - 120Ω resistor OFF for short cables
4. **Confirm ground** - Pin 5 must be connected
5. **Check permissions** - `sudo usermod -a -G dialout $USER` (logout/login)
6. **Verify port** - `ls -la /dev/ttyUSB*`

### Different Rover Model

This pinout is verified for **Rover Elite 40A only**. 

If you have a different model and have a working BT-2:
1. Disassemble BT-2 to trace connections (or use continuity test)
2. Map which RJ45 pins connect to A+, B-, GND
3. Update your wiring accordingly

### Detailed Diagnostics

```bash
# Verbose test output
poetry run python tests/rs485/test_rs485.py -v

# Test scripts documentation
cat tests/rs485/README.md
```

---

## Equipment

### Required
- USB to RS485 adapter (Waveshare USB TO RS232/485 recommended)
- RJ45 cable or RJ45 breakout adapter
- Raspberry Pi or PC

### Recommended
- Multimeter (for verification)

---

## External Resources

### Renogy Documentation
- [Rover Modbus Protocol](https://www.renogy.com/support/) - Check Renogy support site
- Included: `docs/rover_modbus.pdf`

### RS485 General Info
- [RS485 Standard (Wikipedia)](https://en.wikipedia.org/wiki/RS-485)
- [Waveshare USB TO RS232/485](https://www.waveshare.com/wiki/USB_TO_RS232/485)

### Community
- [DIYSolarForum RS485 Thread](https://diysolarforum.com/threads/renogy-rs-485-communications-interface-in-detail.12495/)
- [renogymodbus Library](https://github.com/rosswarren/renogymodbus)
- [PyModbus Documentation](https://pymodbus.readthedocs.io/)

---

## Revision History

- **v2.0** (2026-02-07) - Verified pinout for Rover Elite 40A (pins 7,6,5)
- **v1.1** - Updated pinout based on community sources (pins 2,3,4)
- **v1.0** - Initial guide (split from SERIAL.md, not verified)
